=== Build LinuxKit
[2017-05-30 14:59.17] Starting...
Cloning into '/tmp/with_clone1aba784a'...
done.
HEAD is now at 9e7214a1 Fix correct usage function
[2017-05-30 14:59.18] Running "cp" "-p" "--" "/gcloud/ci-setup.sh" "/tmp/with_clone1aba784a/ci-setup.sh"
[2017-05-30 14:59.18] Running "/gcloud/create.py" "linuxkit-ci-3"
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
INFO:root:Using source disk image https://www.googleapis.com/compute/v1/projects/moby-datakit-ci/global/images/linuxkit-ci-builder-3
INFO:root:Creating VM
INFO:root:Waiting for zone operation to finish
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Getting VM details
[2017-05-30 14:59.37] Created new VM linuxkit-ci-3
[2017-05-30 14:59.37] Running "ssh" "-i" "/run/secrets/builder-ssh" "-o" "StrictHostKeyChecking=no" "root@104.199.57.244" "/usr/local/bin/test.sh"
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:IZJT9T6UjGNI8ky4ko/3JibOFqKRhyIHzaNWNO2BerA.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:70
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
+ rm -rf /tmp/build
+ mkdir /tmp/build
+ cd /tmp/build
+ tar xf -
+ '[' -x ci-setup.sh ']'
+ ./ci-setup.sh
+ mkdir -p /tmp/build/test/_results /tmp/build/artifacts
+ sysctl vm.overcommit_memory=1
vm.overcommit_memory = 1
+ make ci-pr
make clean
make[1]: Entering directory '/tmp/build'
rm -rf bin *.log *-kernel *-cmdline *-state *.img *.iso *.gz *.qcow2 *.vhd *.vmx *.vmdk *.tar 
make[1]: Leaving directory '/tmp/build'
make
make[1]: Entering directory '/tmp/build'
mkdir -p bin
docker run --rm --log-driver=none  linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7 --clone-path github.com/moby/tool --clone https://github.com/moby/tool.git --commit 101fa30ef335b2fa70ef4fc322821a12bd368c26 --package github.com/moby/tool/cmd/moby --ldflags "-X main.GitCommit=9e7214a1f85012a6f7fd7b4ec96cd01ed038f7b4 -X main.Version="0.0" " -o bin/moby > tmp_moby_bin.tar
Unable to find image 'linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7' locally
3ba94f14de51b73551417e769d122815ec917ee7: Pulling from linuxkit/go-compile
cfc728c1c558: Pulling fs layer
faacc1176d6c: Pulling fs layer
4cf0edf1fde5: Pulling fs layer
09116519dab2: Pulling fs layer
09116519dab2: Waiting
cfc728c1c558: Verifying Checksum
cfc728c1c558: Download complete
cfc728c1c558: Pull complete
09116519dab2: Verifying Checksum
09116519dab2: Download complete
4cf0edf1fde5: Verifying Checksum
4cf0edf1fde5: Download complete
faacc1176d6c: Verifying Checksum
faacc1176d6c: Download complete
faacc1176d6c: Pull complete
4cf0edf1fde5: Pull complete
09116519dab2: Pull complete
Digest: sha256:6e9948a49aa6eebaa347cc107fdb0265e86f6179447b1bd670500593bbd0525f
Status: Downloaded newer image for linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7
Cloning into '.'...
Note: checking out '101fa30ef335b2fa70ef4fc322821a12bd368c26'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 101fa30... Merge pull request #54 from riyazdf/trust-tag-fix
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_moby_bin.tar > bin/moby
rm tmp_moby_bin.tar
touch bin/moby
tar cf - vendor -C src/cmd/linuxkit . | docker run --rm --net=none --log-driver=none -i  linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7 --package github.com/linuxkit/linuxkit --ldflags "-X main.GitCommit=9e7214a1f85012a6f7fd7b4ec96cd01ed038f7b4 -X main.Version="0.0" " -o bin/linuxkit > tmp_linuxkit_bin.tar
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_linuxkit_bin.tar > bin/linuxkit
rm tmp_linuxkit_bin.tar
touch bin/linuxkit
docker run --rm --log-driver=none  linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7 --clone-path github.com/linuxkit/rtf --clone https://github.com/linuxkit/rtf.git --commit 3ced00340aacfc1932e8c03281bf3bfc586c147c --package github.com/linuxkit/rtf --ldflags "-X github.com/linuxkit/rtf/cmd.GitCommit=3ced00340aacfc1932e8c03281bf3bfc586c147c -X github.com/linuxkit/rtf/cmd.Version="0.0" " -o bin/rtf > tmp_rtf_bin.tar
Cloning into '.'...
Note: checking out '3ced00340aacfc1932e8c03281bf3bfc586c147c'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 3ced003... Merge pull request #12 from dave-tucker/exit-1-fail
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_rtf_bin.tar > bin/rtf
rm tmp_rtf_bin.tar
touch bin/rtf
make[1]: Leaving directory '/tmp/build'
make install
make[1]: Entering directory '/tmp/build'
cp -R ./bin/* /usr/local//bin
make[1]: Leaving directory '/tmp/build'
make -C test pr
make[1]: Entering directory '/tmp/build/test'
rm -rf ../artifacts
mkdir -p ../artifacts
/usr/local/bin/moby build -output gcp-img -pull -name ../artifacts/test hack/test.yml
Pull kernel image: linuxkit/kernel:4.9.x
Extract kernel image: linuxkit/kernel:4.9.x
Pull image: linuxkit/kernel:4.9.x
Add init containers:
Process init image: linuxkit/init:4fc8aa82ab34d62d510575c8fbe0c58b7ba9c480
Pull image: linuxkit/init:4fc8aa82ab34d62d510575c8fbe0c58b7ba9c480
Process init image: linuxkit/runc:2649198589ef0020d99f613adaeda45ce0093a38
Pull image: linuxkit/runc:2649198589ef0020d99f613adaeda45ce0093a38
Process init image: linuxkit/containerd:b1766e4c4c09f63ac4925a6e4612852a93f7e73b
Pull image: linuxkit/containerd:b1766e4c4c09f63ac4925a6e4612852a93f7e73b
Add onboot containers:
  Create OCI config for linuxkit/dhcpcd:7d2f17a0e5d1ef9a75a527821a9ab0d753b22e7e
Pull image: linuxkit/dhcpcd:7d2f17a0e5d1ef9a75a527821a9ab0d753b22e7e
  Create OCI config for linuxkit/test-kernel-config:ecff41279ccbc408079a3996a956432651c6eb9c
Pull image: linuxkit/test-kernel-config:ecff41279ccbc408079a3996a956432651c6eb9c
  Create OCI config for linuxkit/poweroff:a8f1e4ad8d459f1fdaad9e4b007512cb3b504ae8
Pull image: linuxkit/poweroff:a8f1e4ad8d459f1fdaad9e4b007512cb3b504ae8
Create outputs:
  ../artifacts/test.img.tar.gz
LABELS: 8.7, amd64, build, linux, Debian
ID: f278ce47-9e80-487f-9f61-852a705e97fa
[PASS    ] linuxkit.build.examples.minimal 28.36s
[PASS    ] linuxkit.build.examples.docker 83.32s
[PASS    ] linuxkit.build.examples.sshd 45.37s
[PASS    ] linuxkit.build.examples.redis 34.41s
[PASS    ] linuxkit.build.examples.swap 56.85s
[PASS    ] linuxkit.build.examples.node_exporter 36.19s
[PASS    ] linuxkit.build.outputs 226.70s
[PASS    ] linuxkit.platforms.qemu.run_kernel 47.65s
[PASS    ] linuxkit.platforms.qemu.run_iso 44.34s
[PASS    ] linuxkit.platforms.qemu.run_efi 48.36s
[PASS    ] linuxkit.platforms.qemu.run_qcow 82.66s
[CANCEL  ] linuxkit.platforms.qemu.container 0.05s
[PASS    ] linuxkit.kernel.config_4.4.x 74.29s
[PASS    ] linuxkit.kernel.config_4.9.x 74.44s
[PASS    ] linuxkit.kernel.config_4.10.x 80.62s
[PASS    ] linuxkit.kernel.config_4.11.x 77.37s
[PASS    ] linuxkit.kernel.kmod_4.9.x 70.97s
[SKIP    ] linuxkit.security.docker-bench 0.00s
[PASS    ] linuxkit.packages.binfmt 65.77s
[PASS    ] linuxkit.packages.ca-certificates 59.14s
[PASS    ] linuxkit.packages.dhcpcd 63.48s
[PASS    ] linuxkit.packages.mkimage 200.68s
[PASS    ] linuxkit.packages.sysctl 61.38s
[SUMMARY ] LogDir: f278ce47-9e80-487f-9f61-852a705e97fa
[SUMMARY ] Version: 8.7
[SUMMARY ] Passed: 21
[SUMMARY ] Failed: 0
[SUMMARY ] Cancelled: 1
[SUMMARY ] Skipped: 3
[SUMMARY ] Duration: 1562.67s
make[1]: Leaving directory '/tmp/build/test'
[2017-05-30 15:30.54] Fetching results
[2017-05-30 15:30.54] Running "scp" "-r" "-i" "/run/secrets/builder-ssh" "-o" "StrictHostKeyChecking=no" "root@104.199.57.244:/tmp/build/test/_results" "root@104.199.57.244:/tmp/build/artifacts" "."
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:IZJT9T6UjGNI8ky4ko/3JibOFqKRhyIHzaNWNO2BerA.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:70
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:IZJT9T6UjGNI8ky4ko/3JibOFqKRhyIHzaNWNO2BerA.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:70
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
[2017-05-30 15:30.59] Removing test VM...
[2017-05-30 15:30.59] Running "/gcloud/destroy.py" "linuxkit-ci-3"
INFO:root:Destroying VM
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
INFO:root:Waiting for zone operation to finish
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
[2017-05-30 15:31.48] Saved build result test.img.tar.gz (7e9b2ed289152c70da485adb89fe39907886f18e263180bb5418a2bf05610045)
[2017-05-30 15:31.48] Success
